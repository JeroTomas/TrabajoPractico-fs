const fs = require('fs');

const archivo = 'contactos.json';

function leerContactos() {
  if (!fs.existsSync(archivo)) return [];
  const data = fs.readFileSync(archivo, 'utf8');
  return JSON.parse(data);
}

function guardarContactos(contactos) {
  fs.writeFileSync(archivo, JSON.stringify(contactos, null, 2));
}

function agregarContacto(nombre, telefono, email) {
  const contactos = leerContactos();
  contactos.push({ nombre, telefono, email });
  guardarContactos(contactos);
  console.log(`Contacto agregado: ${nombre}`);
}

function mostrarContactos() {
  const contactos = leerContactos();
  console.log("Lista de contactos:");
  contactos.forEach(c => console.log(`${c.nombre} - ${c.telefono} - ${c.email}`));
}

function eliminarContacto(nombre) {
  let contactos = leerContactos();
  contactos = contactos.filter(c => c.nombre !== nombre);
  guardarContactos(contactos);
  console.log(`Contacto "${nombre}" eliminado.`);
}

// Código de prueba
agregarContacto('Carlos López', '987-654-3210', 'carlos@example.com');
mostrarContactos();
eliminarContacto('Juan Pérez');
mostrarContactos();
